"use strict";(self.webpackChunkhwdoc=self.webpackChunkhwdoc||[]).push([[7787],{2860:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>t,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var l=e(4848),s=e(8453);const i={},a="LNMP\u73af\u5883\u90e8\u7f72",o={id:"\u540e\u7aef\u5f00\u53d1/LNMP\u73af\u5883\u90e8\u7f72",title:"LNMP\u73af\u5883\u90e8\u7f72",description:"\u5728VMware\u4e2d\u5b89\u88c5CentOS7\u64cd\u4f5c\u7cfb\u7edf",source:"@site/docs/\u540e\u7aef\u5f00\u53d1/LNMP\u73af\u5883\u90e8\u7f72.md",sourceDirName:"\u540e\u7aef\u5f00\u53d1",slug:"/\u540e\u7aef\u5f00\u53d1/LNMP\u73af\u5883\u90e8\u7f72",permalink:"/docs/\u540e\u7aef\u5f00\u53d1/LNMP\u73af\u5883\u90e8\u7f72",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u540e\u7aef\u5f00\u53d1/LNMP\u73af\u5883\u90e8\u7f72.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"LCS\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217",permalink:"/docs/\u540e\u7aef\u5f00\u53d1/LCS\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217"},next:{title:"MQTT",permalink:"/docs/\u540e\u7aef\u5f00\u53d1/MQTT"}},t={},c=[{value:"\u5728VMware\u4e2d\u5b89\u88c5CentOS7\u64cd\u4f5c\u7cfb\u7edf",id:"\u5728vmware\u4e2d\u5b89\u88c5centos7\u64cd\u4f5c\u7cfb\u7edf",level:2},{value:"\u914d\u7f6eLinux\u7cfb\u7edf",id:"\u914d\u7f6elinux\u7cfb\u7edf",level:2},{value:"\u914d\u7f6e\u9759\u6001ip",id:"\u914d\u7f6e\u9759\u6001ip",level:3},{value:"\u6dfb\u52a0\u975eroot\u7528\u6237\uff0c\u6dfb\u52a0sudo\u6743\u9650",id:"\u6dfb\u52a0\u975eroot\u7528\u6237\u6dfb\u52a0sudo\u6743\u9650",level:3},{value:"\u89e3\u51b3ssh\u8fde\u63a5\u901f\u5ea6\u6162\u7684\u95ee\u9898",id:"\u89e3\u51b3ssh\u8fde\u63a5\u901f\u5ea6\u6162\u7684\u95ee\u9898",level:3},{value:"\u7f16\u8bd1\u5b89\u88c5Nginx",id:"\u7f16\u8bd1\u5b89\u88c5nginx",level:3},{value:"\u8bbe\u7f6e\u9632\u706b\u5899\u5f00\u653e\u7aef\u53e3",id:"\u8bbe\u7f6e\u9632\u706b\u5899\u5f00\u653e\u7aef\u53e3",level:3},{value:"\u7f16\u8bd1\u5b89\u88c5PHP",id:"\u7f16\u8bd1\u5b89\u88c5php",level:3},{value:"\u542f\u52a8PHP-FPM",id:"\u542f\u52a8php-fpm",level:3},{value:"\u5173\u4e8eNginx\u8fd4\u56deFile not Found\u9519\u8bef",id:"\u5173\u4e8enginx\u8fd4\u56defile-not-found\u9519\u8bef",level:3},{value:"\u7f16\u8bd1\u5b89\u88c5MySQL",id:"\u7f16\u8bd1\u5b89\u88c5mysql",level:3},{value:"\u7f16\u8bd1\u5b89\u88c5Redis",id:"\u7f16\u8bd1\u5b89\u88c5redis",level:3},{value:"\u7f16\u8bd1\u5b89\u88c5php-redis\u6269\u5c55",id:"\u7f16\u8bd1\u5b89\u88c5php-redis\u6269\u5c55",level:3},{value:"\u7f16\u8bd1\u5b89\u88c5xunsearch",id:"\u7f16\u8bd1\u5b89\u88c5xunsearch",level:3},{value:"\u5b89\u88c5Node.js",id:"\u5b89\u88c5nodejs",level:3},{value:"\u5b89\u88c5bower\u548cless",id:"\u5b89\u88c5bower\u548cless",level:3},{value:"\u5b89\u88c5FastAdmin",id:"\u5b89\u88c5fastadmin",level:3},{value:"\u5b89\u88c5VMware Tools",id:"\u5b89\u88c5vmware-tools",level:3},{value:"\u5b89\u88c5MySQL5.7",id:"\u5b89\u88c5mysql57",level:3},{value:"\u5b89\u88c5mongodb",id:"\u5b89\u88c5mongodb",level:3},{value:"\u89e3\u51b3pecl\u62a5\u9519",id:"\u89e3\u51b3pecl\u62a5\u9519",level:3},{value:"\u7f16\u8bd1\u5b89\u88c5PHP-Fileinfo\u6269\u5c55",id:"\u7f16\u8bd1\u5b89\u88c5php-fileinfo\u6269\u5c55",level:3}];function d(n){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h1,{id:"lnmp\u73af\u5883\u90e8\u7f72",children:"LNMP\u73af\u5883\u90e8\u7f72"}),"\n",(0,l.jsx)(r.h2,{id:"\u5728vmware\u4e2d\u5b89\u88c5centos7\u64cd\u4f5c\u7cfb\u7edf",children:"\u5728VMware\u4e2d\u5b89\u88c5CentOS7\u64cd\u4f5c\u7cfb\u7edf"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u6682\u672a\u6574\u7406\uff0c\u53ef\u4ee5\u53c2\u8003\u767e\u5ea6\n"})}),"\n",(0,l.jsx)(r.h2,{id:"\u914d\u7f6elinux\u7cfb\u7edf",children:"\u914d\u7f6eLinux\u7cfb\u7edf"}),"\n",(0,l.jsx)(r.h3,{id:"\u914d\u7f6e\u9759\u6001ip",children:"\u914d\u7f6e\u9759\u6001ip"}),"\n",(0,l.jsx)(r.p,{children:"\u914d\u7f6e\u9759\u6001ip\u53ef\u4ee5\u9632\u6b62ip\u7ecf\u5e38\u53d8\u5316\uff0c\u6bcf\u6b21\u90fd\u91cd\u65b0\u8bbe\u7f6e\u8fde\u63a5\u5de5\u5177\u7684ip\u3002"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:'# 1. \u67e5\u770bip\u5730\u5740\r\nip addr\r\n\r\n# 2. \u914d\u7f6e\u9759\u6001ip\r\nvi /etc/sysconfig/network-script/ifcfg-eno16777736\r\n\r\n# \u66f4\u6539\u4ee5\u4e0b\u51e0\u9879\r\nONBOOT="yes"\r\nBOOTPROTO="static"\r\nIPADDR="192.168.158.130"\r\nNETMASK="225.225.225.0"\r\nGATEWAY="192.168.158.2"\r\nDNS1="8.8.8.8"\r\nDNS2="223..5.5.5"\r\nDNS3="114.114.114.114"\r\n\r\n# \u91cd\u542fnetwork\u670d\u52a1\r\nsystemctl restart network.service\n'})}),"\n",(0,l.jsx)(r.h3,{id:"\u6dfb\u52a0\u975eroot\u7528\u6237\u6dfb\u52a0sudo\u6743\u9650",children:"\u6dfb\u52a0\u975eroot\u7528\u6237\uff0c\u6dfb\u52a0sudo\u6743\u9650"}),"\n",(0,l.jsx)(r.p,{children:"\u4f7f\u7528root\u7528\u6237\u767b\u5f55\u7cfb\u7edf\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u975eroot\u7528\u6237\u7528\u6765\u767b\u5f55\u7cfb\u7edf\u3002"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u6dfb\u52a0\u7528\u6237\r\nuseradd hw\r\n\r\n# \u8bbe\u7f6e\u5bc6\u7801\r\npasswd hw\r\n\r\n# \u8bbe\u7f6esudo\u6743\u9650\r\nchmod u+w /etc/sudoers\r\nvi /etc/sudoers\r\n\r\n# \u6dfb\u52a0\u5982\u4e0b\r\n# NOPASSWD\u4ee3\u8868\u4e0d\u9700\u8981\u8f93\u5165\u5bc6\u7801\r\nhw ALL=(ALL) NOPASSWD:ALL\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u89e3\u51b3ssh\u8fde\u63a5\u901f\u5ea6\u6162\u7684\u95ee\u9898",children:"\u89e3\u51b3ssh\u8fde\u63a5\u901f\u5ea6\u6162\u7684\u95ee\u9898"}),"\n",(0,l.jsx)(r.p,{children:"\u5982\u679c\u611f\u89c9ssh\u8fde\u63a5\u670d\u52a1\u5668\u7684\u65f6\u5019\u7b49\u5f85\u7684\u65f6\u95f4\u7279\u522b\u957f\uff0c\u5c1d\u8bd5\u8bbe\u7f6e\u4e00\u4e0b\u4e0b\u9762\u7684\u914d\u7f6e"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\r\nvi /etc/ssh/sshd_config\r\n\r\n# \u4fee\u6539\u4e0b\u9762\u914d\u7f6e\u9879\r\nUseDNS no\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u7f16\u8bd1\u5b89\u88c5nginx",children:"\u7f16\u8bd1\u5b89\u88c5Nginx"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u5b89\u88c5\u5f00\u53d1\u8005\u5de5\u5177\u5305"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u67e5\u770b\u5305\u5185\u8f6f\u4ef6\r\nyum groupinfo Development tools\r\n\r\n# \u5b89\u88c5\u5de5\u5177\u5305\r\nyum groupinstall Development tools\r\nyum install wget\r\nyum install vim\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u4e0b\u8f7d\u548c\u7f16\u8bd1\u7a0b\u5e8f"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u4e0b\u8f7dNginx\u6e90\u7801\u5305\uff0c\u5f53\u524d\u7a33\u5b9a\u7248 1.18.0\r\nwget http://nginx.org/download/nginx-1.18.0.tar.gz\r\n\r\n# \u5b89\u88c5\u4f9d\u8d56\u8f6f\u4ef6\r\nyum install pcre-devel\r\nyum install zlib-devel\r\n\r\n# \u89e3\u538b\u6e90\u7801\u5305\r\ntar -zxvf nginx-1.18.0.tar.gz\r\n\r\n# \u7f16\u8bd1\u7a0b\u5e8f\r\ncd nginx-1.18.0\r\n./configure --prefix=/usr/local/nginx\r\n\r\nmake\r\nmake install\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u542f\u52a8Nginx"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# 1. \u6d4b\u8bd5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e\r\n/usr/local/nginx/sbin/nginx -t\r\n\r\n# 2. \u542f\u52a8nginx\r\n/usr/local/nginx/sbin/nginx\r\n\r\n# 3. \u67e5\u770bnginx\u8fdb\u7a0b\uff0cmaster \u662f\u4e3b\u8fdb\u7a0b worker \u662f\u5b50\u8fdb\u7a0b\r\nps -aux|grep nginx\r\n\r\n# 4. \u901a\u8fc7pid\u6587\u4ef6\u67e5\u770b\u8fdb\u7a0b\u53f7\uff0c\uff08\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f00\u542fpid\u6587\u4ef6\u914d\u7f6e\uff09\r\ncat /usr/local/nginx/logs/nginx.pid\r\n\r\n# 5. \u901a\u8fc7\u4fe1\u53f7\u63a7\u5236\u64cd\u4f5c nginx\r\n# \u4ece\u5bb9\u505c\u6b62\r\nkill -s QUIT `cat /usr/local/nginx/logs/nginx.pid`\r\n\r\n# \u5feb\u901f\u505c\u6b62 TERM \u6216 INT\r\nkill -s TERM `cat /usr/local/nginx/logs/nginx.pid`\r\n\r\n# \u5f3a\u5236\u505c\u6b62\u6240\u6709Nginx\u8fdb\u7a0b\r\npkill -9 nginx\r\n\r\n# \u5e73\u6ed1\u91cd\u542f\r\n# \u68c0\u9a8c Nginx \u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e\u3002\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u7684\u8bdd\u53ef\u4ee5\u4e0d\u6307\u5b9a -c \u53c2\u6570\r\n/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf\r\n\r\n# \u5e73\u6ed1\u91cd\u542f -s \u4fe1\u53f7\u58f0\u660e \u4e0e -\u4fe1\u53f7\u58f0\u660e \u4f5c\u7528\u76f8\u540c\r\nkill -HUP `/usr/local/nginx/logs/nginx.pid`\r\n\r\n# \u5176\u4ed6\u4fe1\u53f7\r\nUSR1 \u91cd\u65b0\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\uff0c\u5728\u5207\u5272\u65e5\u5fd7\u65f6\u4f5c\u7528\u6bd4\u8f83\u5927\r\nUSR2 \u5e73\u6ed1\u5347\u7ea7\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u6bd4\u5982\u5e73\u6ed1\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u65b0\u7684Nginx\u8fdb\u7a0b\r\nWINCH \u4ece\u5bb9\u5173\u95ed\u5de5\u4f5c\u8fdb\u7a0b\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u8bbe\u7f6e\u9632\u706b\u5899\u5f00\u653e\u7aef\u53e3",children:"\u8bbe\u7f6e\u9632\u706b\u5899\u5f00\u653e\u7aef\u53e3"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u5f00\u653e80\u7aef\u53e3\r\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\r\n\r\n# \u5173\u95ed80\u7aef\u53e3\r\nfirewall-cmd --zone=public --remove-port=80/tcp --permanent\r\n\r\n# \u4f7f\u914d\u7f6e\u7acb\u5373\u751f\u6548\r\nfirewall-cmd --reload\r\n\r\n# \u67e5\u770b\u9632\u706b\u5899\u5f00\u542f\u7684\u6240\u6709\u7aef\u53e3\r\nfirewall-cmd --zone=public --list-ports\r\n\r\n# \u5173\u95ed\u9632\u706b\u5899\r\nsystemctl stop firewalld.service\r\n\r\n# \u67e5\u770b\u9632\u706b\u5899\u72b6\u6001\r\nfirewall-cmd --state\r\n\r\n# \u67e5\u770b\u76d1\u542c\u7684\u7aef\u53e3\r\nnetstat -lnpt\r\n\r\n# \u68c0\u67e5\u7aef\u53e3\u88ab\u54ea\u4e2a\u8fdb\u7a0b\u5360\u7528\r\nnetstat -lnpt |grep 5672\r\n\r\n# \u67e5\u770b\u8fdb\u7a0b\u7684\u8be6\u7ec6\u4fe1\u606f\r\nps 6832\r\n\r\n# \u7ec8\u6b62\u8fdb\u7a0b\r\nkill -9 6832\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u7f16\u8bd1\u5b89\u88c5php",children:"\u7f16\u8bd1\u5b89\u88c5PHP"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u4e0b\u8f7dphp7.2\u6e90\u7801\u5b89\u88c5\u5305\uff0c\u4e0b\u8f7d\u4e0d\u52a8\u7684\u8bdd\u53ef\u4ee5\u7528\u8fc5\u96f7\u4e0b\u8f7d\r\nwget https://www.php.net/distributions/php-7.2.34.tar.gz\r\n\r\n# \u5b89\u88c5\u7f3a\u5c11\u7684\u4f9d\u8d56\u8f6f\u4ef6\r\nyum -y install wget vim pcre pcre-devel openssl openssl-devel libicu-devel gcc gcc-c++ autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel ncurses ncurses-devel curl curl-devel krb5-devel libidn libidn-devel openldap openldap-devel nss_ldap jemalloc-devel cmake boost-devel bison automake libevent libevent-devel gd gd-devel libtool* libmcrypt libmcrypt-devel mcrypt mhash libxslt libxslt-devel readline readline-devel gmp gmp-devel libcurl libcurl-devel openjpeg-devel\r\n\r\ncp -frp /usr/lib64/libldap* /usr/lib/\r\n\r\n# \u89e3\u538b\u6e90\u7801\u5305\r\ntar -zxvf php-7.2.34.tar.gz\r\ncd php-7.2.34\r\n\r\n# \u7f16\u8bd1\u5b89\u88c5\r\n./configure --prefix=/usr/local/php/72 \\\r\n--with-config-file-path=/usr/local/php/72/etc \\\r\n--enable-fpm \\\r\n--with-fpm-user=www \\\r\n--with-fpm-group=www \\\r\n--enable-mysqlnd \\\r\n--with-mysqli=mysqlnd \\\r\n--with-pdo-mysql=mysqlnd \\\r\n--enable-mysqlnd-compression-support \\\r\n--with-iconv-dir \\\r\n--with-freetype-dir \\\r\n--with-jpeg-dir \\\r\n--with-png-dir \\\r\n--with-zlib \\\r\n--with-libxml-dir \\\r\n--enable-xml \\\r\n--disable-rpath \\\r\n--enable-bcmath \\\r\n--enable-shmop \\\r\n--enable-sysvsem \\\r\n--enable-inline-optimization \\\r\n--with-curl \\\r\n--enable-mbregex \\\r\n--enable-mbstring \\\r\n--enable-intl \\\r\n--with-mcrypt \\\r\n--with-libmbfl \\\r\n--enable-ftp \\\r\n--with-gd \\\r\n--enable-gd-native-ttf \\\r\n--with-openssl \\\r\n--with-mhash \\\r\n--enable-pcntl \\\r\n--enable-sockets \\\r\n--with-xmlrpc \\\r\n--enable-zip \\\r\n--enable-soap \\\r\n--with-gettext \\\r\n--enable-opcache \\\r\n--with-pear \\\r\n--enable-maintainer-zts \\\r\n--with-ldap=shared \\\r\n--without-gdbm\r\nmake\r\nmake install\r\n\r\n# \u914d\u7f6e\u6587\u4ef6\r\ncp php.ini-development /usr/local/php/72/etc/php.ini-development\r\ncp php.ini-development /usr/local/php/72/etc/php.ini\r\ncp /usr/local/php/72/etc/php-fpm.conf.default /usr/local/php/72/etc/php-fpm.conf\r\ncp /usr/local/php/72/etc/php-fpm.d/www.conf.default /usr/local/php/72/etc/php-fpm.d/www.conf\r\n\r\n# \u521b\u5efa\u8f6f\u94fe\u63a5\r\nln -s /usr/local/php/72/bin/php /usr/bin/php\r\n\r\n# \u7531\u4e8e\u4e4b\u524d\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u914d\u7f6e\u7684\u53c2\u6570\u9519\u8bef\uff0c\u5bfc\u81f4php.ini \u6587\u4ef6\u7684\u4f4d\u7f6e\u9519\u8bef\r\n--with-config-file-path=/usr/local/php/etc \\\r\n\r\n# \u6240\u4ee5\u5efa\u4e00\u4e2a\u8f6f\u94fe\u63a5\u8865\u6551\u4e00\u4e0b\r\nln -s /usr/local/php/72/etc/php.ini /usr/local/php/etc/php.ini\r\n\r\n# \u7f16\u8bd1\u5b89\u88c5gd\u5e93\u6269\u5c55\r\ncd /root/php-7.4.33/ext/gd\r\n/usr/local/php/74/bin/phpize\r\n./configure --with-php-config=/usr/local/php/74/bin/php-config\r\nmake && make install\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u542f\u52a8php-fpm",children:"\u542f\u52a8PHP-FPM"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u542f\u52a8php-fpm\r\n/usr/local/php/72/sbin/php-fpm\r\n\r\n# \u67e5\u770bphp-fpm\u8fdb\u7a0b\r\nps -aux|grep php-fpm\r\n\r\n# \u4ece\u5bb9\u505c\u6b62\r\nkill -s QUIT `cat /usr/local/php/72/var/run/php-fpm.pid`\r\n\r\n# \u5feb\u901f\u505c\u6b62 TERM \u6216 INT\r\nkill -s TERM `cat /usr/local/php/72/var/run/php-fpm.pid`\r\n\r\n# \u5f3a\u5236\u505c\u6b62\u6240\u6709php-fpm\u8fdb\u7a0b\r\npkill -9 php-fpm\r\n\r\n# \u5e73\u6ed1\u91cd\u542f -s \u4fe1\u53f7\u58f0\u660e \u4e0e -\u4fe1\u53f7\u58f0\u660e \u4f5c\u7528\u76f8\u540c\r\nkill -HUP `cat /usr/local/php/72/var/run/php-fpm.pid`\r\n\r\n# \u5176\u4ed6\u4fe1\u53f7\r\nUSR1 \u91cd\u65b0\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\uff0c\u5728\u5207\u5272\u65e5\u5fd7\u65f6\u4f5c\u7528\u6bd4\u8f83\u5927\r\nUSR2 \u5e73\u6ed1\u5347\u7ea7\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u6bd4\u5982\u5e73\u6ed1\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\r\nWINCH \u4ece\u5bb9\u5173\u95ed\u5de5\u4f5c\u8fdb\u7a0b\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5173\u4e8enginx\u8fd4\u56defile-not-found\u9519\u8bef",children:"\u5173\u4e8eNginx\u8fd4\u56deFile not Found\u9519\u8bef"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# nginx \u4e2d\u914d\u7f6ephp-fpm\u53cd\u5411\u4ee3\u7406\r\nlocation ~ \\.php$ {\r\nroot html;\r\nfastcgi_pass 127.0.0.1:9000;\r\nfastcgi_index index.php;\r\nfastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name;\r\ninclude fastcgi_params;\r\n}\r\n\r\n# \u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u53d1\u73b0 php-fpm \u4e00\u76f4\u8fd4\u56de file not found \u9519\u8bef\u4fe1\u606f\r\n# \u539f\u56e0\u662f fastcgi_param SCRIPT_FILENAME \u53c2\u6570\u4f20\u8fc7\u53bb\u7684\u811a\u672c\u8def\u5f84\u6709\u95ee\u9898\uff0c\u8def\u5f84\u90fd\u5b9a\u4f4d\u5230\u4e86 /scripts \u76ee\u5f55\r\n\r\n# \u4fee\u6539\u6210\u5982\u4e0b\u5c31\u80fd\u6b63\u5e38\u8bbf\u95ee\u4e86\r\nfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u7f16\u8bd1\u5b89\u88c5mysql",children:"\u7f16\u8bd1\u5b89\u88c5MySQL"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u5b89\u88c5\u4f9d\u8d56\u8f6f\u4ef6\r\nyum -y install make gcc-c++ cmake bison-devel ncurses-devel libaio\r\nyum install libaio libaio-devel -y\r\nyum install perl-Data-Dumper -y\r\n\r\n# \u4e0b\u8f7d\u5b89\u88c5\u5305\r\nwget https://cdn.mysql.com//Downloads/MySQL-5.6/mysql-5.6.50.tar.gz\r\n\r\n# \u89e3\u538b\r\ntar -zxvf mysql-5.6.50.tar.gz\r\ncd mysql-5.6.50\r\n\r\n# \u914d\u7f6e\u7f16\u8bd1\u53c2\u6570\r\ncmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc \\\r\n-DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_MEMORY_STORAGE_ENGINE=1 \\\r\n-DWITH_READLINE=1 -DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock -DMYSQL_TCP_PORT=3306 \\\r\n-DENABLED_LOCAL_INFILE=1 -DWITH_PARTITION_STORAGE_ENGINE=1 -DEXTRA_CHARSETS=all \\\r\n-DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci\r\n\r\n# \u7f16\u8bd1\r\nmake\r\n\r\n# \u6307\u5b9a8\u6838\r\nmake -j8\r\nmake install\r\n\r\n# \u521b\u5efa\u7528\u6237\r\ncat /etc/passwd|grep mysql\r\nuseradd -g mysql -s /sbin/nologin mysql\r\n\r\n# \u6388\u6743\r\nchown -R mysql:mysql /usr/local/mysql\r\n\r\n# \u521d\u59cb\u5316MySQL\r\n/usr/local/mysql/scripts/mysql_install_db --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --user=mysql\r\n\r\n# \u590d\u5236\u670d\u52a1\u811a\u672c\u5230 init.d\r\ncp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql\r\nchkconfig mysql on\r\n\r\n# \u542f\u52a8\u65f6\u62a5\u9519\uff0c\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u7b80\u5355\u914d\u7f6e\r\nsystemctl status mysql.service\r\nmkdir /var/log/mariadb/\r\ntouch /var/log/mariadb/mariadb.log\r\nchown -R mysql:mysql /var/log/mariadb/\r\nmkdir /var/lib/mysql/\r\nchown -R mysql:mysql /var/lib/mysql/\r\nvi /etc/my.cnf\r\n\r\n# \u4fee\u6539\u6570\u636e\u5b58\u50a8\u8def\u5f84\r\ndatadir=/usr/local/mysql/data\r\n\r\n# \u542f\u52a8 MySQL \u6570\u636e\u5e93\r\nsystemctl start mysql.service\r\n\r\n# \u67e5\u770b\u8fdb\u7a0b\r\nps -ef|grep mysql\r\n\r\n# \u5c06\u6267\u884c\u6587\u4ef6\u8def\u5f84\u52a0\u5165\u73af\u5883\u53d8\u91cf\u65b9\u4fbf\u7ec8\u7aef\u64cd\u4f5cmysql\r\nvi /etc/profile\r\n\r\n# \u52a0\u5165\u4e0b\u9762\u8bed\u53e5\r\nexport PATH=$PATH:/usr/local/mysql/bin\r\n\r\n# \u5237\u65b0\u73af\u5883\u53d8\u91cf\uff0c\u6ca1\u6709\u5168\u65b0\u7684\u8bdd\u9700\u8981\u63d0\u6743\r\nsource /etc/profile\r\n\r\n# \u67e5\u770bmysql\u7248\u672c\r\nmysql --version\n"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:'# MySQL \u7ed9root\u7528\u6237\u8bbe\u7f6e\u5bc6\u7801\r\nset names utf8;\r\nuse user;\r\nupdate user set password=password("root") where user="root";\r\n\r\n# \u5237\u65b0\u6743\u9650\r\nflush privileges;\r\nexit\n'})}),"\n",(0,l.jsx)(r.h3,{id:"\u7f16\u8bd1\u5b89\u88c5redis",children:"\u7f16\u8bd1\u5b89\u88c5Redis"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u4e0b\u8f7dredis\u6e90\u7801\u5305\r\nwget https://download.redis.io/releases/redis-5.0.9.tar.gz\r\n\r\n# \u89e3\u538b\u6e90\u7801\u5305\r\ntar -zxvf redis-5.0.9.tar.gz\r\ncd redis-5.0.9\r\n\r\n# \u7f16\u8bd1\u7a0b\u5e8f\r\nmake\r\nmake install PREFIX=/usr/local/redis\r\n\r\n# \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\r\ncp /root/redis-5.0.9/redis.conf /usr/local/redis/\r\nvi /usr/local/redis/redis.conf\r\n# \u5c06 daemonize \u6539\u4e3a yes (\u5b88\u62a4\u8fdb\u7a0b)\r\n\r\n# \u542f\u52a8 redis \u670d\u52a1\r\n/usr/local/redis/bin/redis-server /usr/local/redis/redis.conf\r\n\r\n# \u67e5\u770b\u8fdb\u7a0b\r\nps -aux|grep redis\r\n\r\n# \u7ec8\u7aef\u94fe\u63a5\r\n/usr/local/redis/bin/redis-cli\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u7f16\u8bd1\u5b89\u88c5php-redis\u6269\u5c55",children:"\u7f16\u8bd1\u5b89\u88c5php-redis\u6269\u5c55"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:'# \u4e0b\u8f7d php-redis \u6269\u5c55\uff0c\u4e0b\u8f7d\u4e0d\u52a8\u53ef\u4ee5\u7ffb\u5899\u6216\u7528\u8fc5\u96f7\u8bd5\u8bd5\r\nwget http://pecl.php.net/get/redis-5.3.2.tgz\r\n\r\n# \u89e3\u538b\u6e90\u7801\u5305\r\ntar -zxvf redis-5.3.2.tgz\r\ncd redis-5.3.2\r\n\r\n# \u6267\u884cphpize\r\n/usr/local/php/72/bin/phpize\r\n\r\n# \u7f16\u8bd1\u7a0b\u5e8f\r\n./configure --with-php-config=/usr/local/php/72/bin/php-config\r\nmake\r\nmake install\r\n\r\n# \u4fee\u6539php.ini \u6587\u4ef6\r\nvi /usr/local/php/72/etc/php.ini\r\n\r\n# \u6dfb\u52a0\r\nextension="redis.so"\n'})}),"\n",(0,l.jsx)(r.h3,{id:"\u7f16\u8bd1\u5b89\u88c5xunsearch",children:"\u7f16\u8bd1\u5b89\u88c5xunsearch"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"wget http://www.xunsearch.com/download/xunsearch-full-latest.tar.bz2\r\ntar -xjf xunsearch-full-latest.tar.bz2\r\nsh setup.sh\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5b89\u88c5nodejs",children:"\u5b89\u88c5Node.js"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u4e0b\u8f7d\u6e90\u7801\u5305\r\nwget https://cdn.npm.taobao.org/dist/node/v14.15.1/node-v14.15.1-linux-x64.tar.xz\r\n\r\n# \u89e3\u538b\u7a0b\u5e8f\r\nxz -d node-v14.15.1-linux-x64.tar.xz\r\ntar -xf node-v14.15.1-linux-x64.tar\r\n\r\n# \u5efa\u7acb\u8f6f\u94fe\u63a5\r\nln -s /root/node-v14.15.1-linux-x64/bin/node /usr/bin/node\r\nln -s /root/node-v14.15.1-linux-x64/bin/npm /usr/bin/npm\r\nln -s /root/node-v14.15.1-linux-x64/bin/npx /usr/bin/npx\r\n\r\n# \u5b89\u88c5cnpm\r\nnpm install -g cnpm --registry=https://registry.npm.taobao.org\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5b89\u88c5bower\u548cless",children:"\u5b89\u88c5bower\u548cless"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u5168\u5c40\u5b89\u88c5bower\r\ncnpm install -g bower\r\nln -s /root/node-v14.15.1-linux-x64/bin/bower /usr/bin/bower\r\n\r\n# \u5168\u5c40\u5b89\u88c5less\r\ncnpm install -g less\r\nln -s /root/node-v14.15.1-linux-x64/bin/lessc /usr/bin/lessc\r\n\r\n# \u5c06node\u7684bin\u76ee\u5f55\u52a0\u5165\u5230 /etc/profile\u6587\u4ef6\u7136\u540e\u6267\u884c\r\nsource /etc/profile\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5b89\u88c5fastadmin",children:"\u5b89\u88c5FastAdmin"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u514b\u9686\u9879\u76ee\u6e90\u4ee3\u7801\r\ncd /home/website/\r\ngit clone https://gitee.com/karson/fastadmin.git\r\n\r\n# \u91cd\u547d\u540d\u76ee\u5f55\r\nmv fastadmin/ www1.website-nginx.com\r\ncd www1.website-nginx.com/\r\n\r\n# \u4e0b\u8f7d\u524d\u7aef\u63d2\u4ef6\u4f9d\u8d56\u5305\r\nbower install\r\n\r\n# \u4e0b\u8f7dphp\u4f9d\u8d56\u5305\r\ncomposer install\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5b89\u88c5vmware-tools",children:"\u5b89\u88c5VMware Tools"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# https://docs.vmware.com/cn/VMware-Workstation-Pro/16.0/com.vmware.ws.using.doc/GUID-08BB9465-D40A-4E16-9E15-8C016CC8166F.html\r\n\r\n# \u5728VMware\u4e2d\u9009\u62e9\u83dc\u5355\r\n\u865a\u62df\u673a>\u5b89\u88c5VMware Toolds\r\n\r\n# \u8fdb\u5165\u865a\u62df\u673a\u6267\u884c\u547d\u4ee4\r\n\r\n# \u521b\u5efa\u6302\u8f7d\u76ee\u5f55\r\nmkdir /mnt/cdrom\r\n\r\n# \u88c5\u8f7d CD-ROM \u9a71\u52a8\u5668\r\nmount /dev/cdrom /mnt/cdrom\r\n\r\ncd /tmp\r\ntar zxpf /mnt/cdrom/VMwareTools-10.3.23-16594550.tar.gz\r\n\r\ncd vmware-tools-distrib/\r\nsudo ./vmware-install.pl\r\n\r\nhttp://kb.vmware.com/kb/2073803\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5b89\u88c5mysql57",children:"\u5b89\u88c5MySQL5.7"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u5b89\u88c5\u4f9d\u8d56\r\nsudo yum install -y wget gcc-c++ cmake ncurses-devel\r\n\r\n# \u4e0b\u8f7d\u5b89\u88c5\u5305\r\nwget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.34.tar.gz\r\n\r\n# \u89e3\u538b\r\ntar -zxvf mysql-5.7.34.tar.gz\r\n\r\n# \u8fdb\u5165\u76ee\u5f55\r\ncd mysql-5.7.34\r\n\r\n# \u7f16\u8bd1\r\ncmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql \\\r\n-DMYSQL_DATADIR=/usr/local/mysql/data \\\r\n-DDOWNLOAD_BOOST=1 -DWITH_BOOST=../boost \\\r\n-DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci \\\r\n-DENABLE_DOWNLOADS=1\r\n\r\nmake -j$(nproc)\r\nmake install\r\n\r\n# \u521d\u59cb\u5316\u6570\u636e\u5e93\r\n/usr/local/mysql/bin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data\r\n\r\n# \u9ed8\u8ba4\u5bc6\u7801\r\nDpttFlNPM4!8\r\n\r\n# \u542f\u52a8MySQL\r\nsystemctl start mysql\r\n\r\n# \u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8\r\nchkconfig mysql on\r\n\r\n# \u91cd\u65b0\u8bbe\u7f6e\u5bc6\u7801\r\n/usr/local/mysql/bin/mysql_secure_installation -S /var/lib/mysql/mysql.sock\r\n\r\nchown mysql:mysql ./mysql/ -R\r\n\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5b89\u88c5mongodb",children:"\u5b89\u88c5mongodb"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u521b\u5efa\u7528\u6237\r\ngroupadd mongodb\r\nuseradd -r -g mongodb -s /sbin/nologin -M mongodb\r\n\r\n# \u89e3\u538b\u6e90\u7801\u5305\r\ntar -zxvf mongodb-shell-linux-x86_64-rhel70-4.4.23.tgz\r\ncd mongodb-linux-x86_64-rhel70-4.4.23\r\n\r\n# \u62f7\u8d1d\u7a0b\u5e8f\r\nmkdir /usr/local/mongodb\r\ncp ./* /usr/local/mongodb/ -R\r\n\r\n# \u521b\u5efa\u76ee\u5f55\r\nmkdir /usr/local/mongodb/data\r\nmkdir /usr/local/mongodb/conf\r\nmkdir /usr/local/mongodb/log\r\nmkdir /var/run/mongodb/\r\n\r\n# \u4fee\u6539\u914d\u7f6e\r\nvim /usr/local/mongodb/conf/mongodb.conf\r\n\r\n# \u8bbe\u7f6e\u76ee\u5f55\u6743\u9650\r\nchown mongodb:mongodb /usr/local/mongodb/ -R\r\n\r\n# \u542f\u52a8\u670d\u52a1\r\n/usr/local/mongodb/bin/mongod --config=/usr/local/mongodb/conf/mongodb.conf\r\n\r\n# \u91cd\u542f\u670d\u52a1\r\nkill -HUP `cat /var/run/mongodb/mongodb.pid`\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u914d\u7f6e\u6587\u4ef6"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ini",children:"# \u6570\u636e\u76ee\u5f55\r\ndbpath=/usr/local/mongodb/data\r\n\r\n# \u65e5\u5fd7\u76ee\u5f55\r\nlogpath=/usr/local/mongodb/log/mongodb.log\r\n\r\n# \u5199\u65e5\u5fd7\u7684\u6a21\u5f0f\r\nlogappend=true\r\n\r\n# \u4ee5\u5b88\u62a4\u7a0b\u5e8f\u7684\u65b9\u5f0f\u542f\u7528\r\nfork=true\r\nverbose=true\r\n\r\n#\u542f\u52a8verbose\u5197\u957f\u4fe1\u606f\uff0c\u5b83\u7684\u7ea7\u522b\u6709 vv~vvvvv\uff0cv\u8d8a\u591a\u7ea7\u522b\u8d8a\u9ad8\uff0c\u5728\u65e5\u5fd7\u6587\u4ef6\u4e2d\u8bb0\u5f55\u7684\u4fe1\u606f\u8d8a\u8be6\u7ec6\r\nvvvv=true\r\n\r\n# \u9ed8\u8ba4\u503c\uff1a\u53d6\u51b3\u4e8e\u7cfb\u7edf\uff08\u5373\u7684ulimit\u548c\u6587\u4ef6\u63cf\u8ff0\u7b26\uff09\u9650\u5236\u3002MongoDB\u4e2d\u4e0d\u4f1a\u9650\u5236\u5176\u81ea\u8eab\u7684\u8fde\u63a5\r\nmaxConns=20000\r\n\r\npidfilepath=/var/run/mongodb/mongodb.pid\r\n\r\n# \u6570\u636e\u76ee\u5f55\u5b58\u50a8\u6a21\u5f0f,\u5982\u679c\u76f4\u63a5\u4fee\u6539\u539f\u6765\u7684\u6570\u636e\u4f1a\u4e0d\u89c1\u4e86\r\ndirectoryperdb=true\r\n\r\n# \u6570\u636e\u5e93\u5206\u6790\u7b49\u7ea7\u8bbe\u7f6e,0 \u5173 2 \u5f00\u3002\u5305\u62ec\u6240\u6709\u64cd\u4f5c\u3002 1 \u5f00\u3002\u4ec5\u5305\u62ec\u6162\u64cd\u4f5c\r\nprofile=0\r\n\r\n# \u8bb0\u5f55profile\u5206\u6790\u7684\u6162\u67e5\u8be2\u7684\u65f6\u95f4\uff0c\u9ed8\u8ba4\u662f100\u6beb\u79d2\r\nslowms=200\r\nquiet=true\r\n\r\n# \u5237\u5199\u6570\u636e\u5230\u65e5\u5fd7\u7684\u9891\u7387\uff0c\u901a\u8fc7fsync\u64cd\u4f5c\u6570\u636e\u3002\u9ed8\u8ba460\u79d2\r\nsyncdelay=60\r\n\r\n# \u7aef\u53e3\r\nport=27017\r\n\r\n# IP\r\n#bind_ip = 10.1.146.163\r\n\r\n# \u5f00\u542f\u8ba4\u8bc1\r\n#auth=true\r\n\r\n# 28017 \u7aef\u53e3\u5f00\u542f\u7684\u670d\u52a1\u3002\u9ed8\u8ba4false\uff0c\u652f\u6301\r\n#nohttpinterface=false\r\n\r\n# \u4e0d\u7981\u6b62\u8868\u626b\u63cf\u64cd\u4f5c\r\n#notablescan=false\r\n\r\n# \u8bbe\u7f6e\u4e3atrue\u4f1a\u5f3a\u5236mongodb\u6bcf4s\u62a5\u544acpu\u5229\u7528\u7387\u548cio\u7b49\u5f85\uff0c\u628a\u65e5\u5fd7\u4fe1\u606f\u5199\u5230\u6807\u51c6\u8f93\u51fa\u6216\u65e5\u5fd7\u6587\u4ef6\r\n#cpu=true\r\n\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u542f\u52a8\u811a\u672c"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u7f16\u8f91\u811a\u672c\r\nvim /etc/init.d/mongod\n"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:'#!/bin/sh\r\n# chkconfig: 2345 93 18\r\n# description:MongoDB  \r\n\r\n#\u9ed8\u8ba4\u53c2\u6570\u8bbe\u7f6e\r\n#mongodb \u5bb6\u76ee\u5f55\r\nMONGODB_HOME=/usr/local/mongodb\r\n\r\n#mongodb \u542f\u52a8\u547d\u4ee4\r\nMONGODB_BIN=$MONGODB_HOME/bin/mongod\r\n\r\n#mongodb \u914d\u7f6e\u6587\u4ef6\r\nMONGODB_CONF=$MONGODB_HOME/conf/mongodb.conf\r\n\r\nMONGODB_PID=/var/run/mongodb/mongodb.pid\r\n\r\n#\u6700\u5927\u6587\u4ef6\u6253\u5f00\u6570\u91cf\u9650\u5236\r\nSYSTEM_MAXFD=65535\r\n\r\n#mongodb \u540d\u5b57  \r\nMONGODB_NAME="mongodb"\r\n. /etc/rc.d/init.d/functions\r\n\r\nif [ ! -f $MONGODB_BIN ]\r\nthen\r\n    echo "$MONGODB_NAME startup: $MONGODB_BIN not exists! "  \r\n    exit\r\nfi\r\n\r\nstart(){\r\n    ulimit -HSn $SYSTEM_MAXFD\r\n    $MONGODB_BIN --config="$MONGODB_CONF"  \r\n    ret=$?\r\n    if [ $ret -eq 0 ]; then\r\n        action $"Starting $MONGODB_NAME: " /bin/true\r\n    else\r\n        action $"Starting $MONGODB_NAME: " /bin/false\r\n    fi\r\n}\r\n\r\nstop(){\r\n    PID=$(ps aux |grep "$MONGODB_NAME" |grep "$MONGODB_CONF" |grep -v grep |wc -l) \r\n    if [[ $PID -eq 0  ]];then\r\n        action $"Stopping $MONGODB_NAME: " /bin/false\r\n        exit\r\n    fi\r\n    kill -HUP `cat $MONGODB_PID`\r\n    ret=$?\r\n    if [ $ret -eq 0 ]; then\r\n        action $"Stopping $MONGODB_NAME: " /bin/true\r\n        rm -f $MONGODB_PID\r\n    else   \r\n        action $"Stopping $MONGODB_NAME: " /bin/false\r\n    fi\r\n}\r\n\r\nrestart(){\r\n    stop\r\n    sleep 2\r\n    start\r\n}\r\n\r\ncase "$1" in\r\n    start)\r\n        start\r\n        ;;\r\n    stop)\r\n        stop\r\n        ;;\r\n    status)\r\n    status $prog\r\n        ;;\r\n    restart)\r\n        restart\r\n        ;;\r\n    *)\r\n        echo $"Usage: $0 {start|stop|status|restart}"\r\nesac\r\n\r\n\n'})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"# \u542f\u7528\u811a\u672c\r\nchmod +x /etc/init.d/mongod\r\nchkconfig --add mongod\r\nchkconfig mongod on\r\nservice mongod start\r\nps -ef | grep mongod\r\nnetstat -anp | grep  27017\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u89e3\u51b3pecl\u62a5\u9519",children:"\u89e3\u51b3pecl\u62a5\u9519"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u8d77\u56e0\uff1a"})}),"\n",(0,l.jsx)(r.p,{children:'\u4f7f\u7528pecl \u547d\u4ee4\u540e\u63d0\u793a\r\nWARNING: channel "pecl.php.net" has updated its protocols, use "pecl channel-update pecl.php.net" to update'}),"\n",(0,l.jsx)(r.p,{children:"\u4e8e\u662f\u6267\u884cpecl channel-update pecl.php.net"}),"\n",(0,l.jsxs)(r.p,{children:["\u7ed3\u679c\u62a5\u9519\uff1aConnection to ",(0,l.jsx)(r.code,{children:"ssl://pecl.php.net:443' failed"})]}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u89e3\u51b3\u65b9\u6cd5\uff1a"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:'# \u6267\u884c\u547d\u4ee4\uff1a\r\nphp -r "print_r(openssl_get_cert_locations());"\n'})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"Array\r\n(\r\n[default_cert_file] => /usr/openssl/ssl/cert.pem\r\n[default_cert_file_env] => SSL_CERT_FILE\r\n[default_cert_dir] => /usr/openssl/ssl/certs\r\n[default_cert_dir_env] => SSL_CERT_DIR\r\n[default_private_dir] => /usr/openssl/ssl/private\r\n[default_default_cert_area] => /usr/openssl/ssl\r\n[ini_cafile] =>\r\n[ini_capath] =>\r\n)\n"})}),"\n",(0,l.jsx)(r.p,{children:"\u4e0d\u540c\u73af\u5883\u5177\u4f53\u5185\u5bb9\u4e0d\u4e00\u6837\uff0c\u8fd9\u6ca1\u6709\u5173\u7cfb\u3002\u5173\u952e\u662f\u77e5\u9053default_cert_file\u6587\u4ef6\u5728\u54ea\u91cc\u3002\r\n\u4e0b\u8f7d\u65b0\u7684pem\u6587\u4ef6\u5e76\u66ff\u6362\u4e0a\u9762\u7684default_cert_file\u3002"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:"wget -P /home/\u4f60\u7684\u76ee\u5f55 http://curl.haxx.se/ca/cacert.pem\n"})}),"\n",(0,l.jsx)(r.p,{children:"\u628a\u4e0b\u8f7d\u4e0b\u6765\u7684cacert.pem \u91cd\u547d\u540d\u6210cert.pem \u66ff\u6362default_cert_file\u5373\u53ef\u3002"}),"\n",(0,l.jsx)(r.h3,{id:"\u7f16\u8bd1\u5b89\u88c5php-fileinfo\u6269\u5c55",children:"\u7f16\u8bd1\u5b89\u88c5PHP-Fileinfo\u6269\u5c55"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sh",children:'# \u5b89\u88c5\u4f9d\u8d56\r\nyum install file-devel\r\n\r\n# \u4e0b\u8f7d\u6269\u5c55\r\nwget https://pecl.php.net/get/Fileinfo-1.0.4.tgz\r\n\r\n# \u89e3\u538b\r\ntar -zxvf Fileinfo-1.0.4.tgz\r\ncd Fileinfo-1.0.4\r\n\r\n# \u5b89\u88c5\r\nphpize\r\n\r\n/usr/local/php/72/bin/phpize\r\n./configure --with-php-config=/usr/local/php/72/bin/php-config\r\nmake\r\nmake install\r\n\r\n# \u4fee\u6539php.ini \u6587\u4ef6\r\nvi /usr/local/php/72/etc/php.ini\r\n\r\n# \u6dfb\u52a0\r\nextension="fileinfo.so"\n'})})]})}function p(n={}){const{wrapper:r}={...(0,s.R)(),...n.components};return r?(0,l.jsx)(r,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453:(n,r,e)=>{e.d(r,{R:()=>a,x:()=>o});var l=e(6540);const s={},i=l.createContext(s);function a(n){const r=l.useContext(i);return l.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function o(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),l.createElement(i.Provider,{value:r},n.children)}}}]);